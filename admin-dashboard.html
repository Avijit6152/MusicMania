<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - Music Mania</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="admin-dashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="header">
    <h1>Music Mania - Admin Dashboard</h1>
    <button id="darkModeBtn">Toggle Dark Mode</button>
  </div>

  <div class="sidebar">
    <a href="index.html">Home</a>
    <a href="admin-signup.html">Sign Up</a>
    <a href="admin-login.html">Login</a>
    <a href="admin-dashboard.html" class="active">Dashboard</a>
    <a href="manage-users.html">Manage Users</a>
    <a href="songs-management.html">Songs Management</a>
    <a href="analytics.html">Analytics</a>
    <a href="reports.html">Reports</a>
    <a href="settings.html">Settings</a>
    <a href="moderation.html">Content Moderation</a>
    <a href="roles-permissions.html">Roles & Permissions</a>
    <a href="logs.html">Activity Logs</a>
    <a href="live-chat.html">Live Chat</a>
    <a href="#" id="logoutBtn">Logout</a>
  </div>


  <div class="main-content">
    <div class="dashboard-welcome">
      <h2>Welcome, Admin!</h2>
      <p>Manage users, songs, view analytics, and more.</p>
    </div>

    <div class="user-profile">
      <img src="/img/pp1.jpg" alt="Profile Photo">
      <div>
        <h4>Admin Name</h4>
        <p>Email: admin@musicmania.com</p>
      </div>
    </div>

    <div class="dashboard-stats">
      <div class="stat-card">
        <h3>Total Users</h3>
        <p>350</p>
      </div>
      <div class="stat-card">
        <h3>Total Songs</h3>
        <p>1200</p>
      </div>
      <div class="stat-card">
        <h3>Active Users</h3>
        <p>200</p>
      </div>
      <div class="stat-card">
        <h3>Downloads</h3>
        <p>1500</p>
      </div>
    </div>

    <div class="chart-container">
      <canvas id="userChart"></canvas>
    </div>

    <div class="search-filter">
      <h3>Search & Filter</h3>
      <input type="text" id="searchBar" placeholder="Search Users/Songs">
      <button id="filterBtn">Filter</button>
    </div>

    <div class="activity-log">
      <h3>Activity Log</h3>
      <ul>
        <li>Admin John Doe updated song details for "Love You" on 12th April 2025.</li>
        <li>Admin Jane Smith banned user 'johndoe123' for violating terms.</li>
      </ul>
    </div>

    <div class="feedback-section">
      <h3>User Feedback</h3>
      <p>Feedback from users regarding songs and features will appear here.</p>
    </div>
  </div>
  <!-- Admin Dashboard Content -->
<section id="admin-dashboard" style="display:none;">
  <h2>Admin Dashboard</h2>
  <!-- Admin-specific content, such as user management, content management -->
  <p>Manage users and content</p>
</section>

<!-- User Dashboard Content -->
<section id="user-dashboard" style="display:none;">
  <h2>User Dashboard</h2>
  <!-- User-specific content, such as playlists, recommendations -->
  <p>Your music and playlists</p>
</section>


  <div class="footer">
    <p>&copy; 2025 Music Mania. All rights reserved.</p>
  </div>

  <script>
    // Chart.js - User Stats
    const ctx = document.getElementById('userChart').getContext('2d');
    const userChart = new Chart(ctx, {
      type: 'line', // line chart for user growth
      data: {
        labels: ['January', 'February', 'March', 'April'], // X-axis labels
        datasets: [{
          label: 'User Growth',
          data: [50, 70, 120, 90], // Y-axis data
          fill: false,
          borderColor: 'rgba(54, 162, 235, 1)',
          tension: 0.1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Logout functionality
    document.getElementById("logoutBtn").addEventListener("click", function() {
      localStorage.removeItem("musicManiaUser");
      window.location.href = "login.html"; // Redirect to login page
    });

    // Toggle Dark Mode
    const darkModeBtn = document.getElementById("darkModeBtn");
    darkModeBtn.addEventListener("click", function() {
      document.body.classList.toggle("dark-mode");
    });

    // Filter and Search Users/Songs
    document.getElementById("filterBtn").addEventListener("click", function() {
      const searchQuery = document.getElementById("searchBar").value;
      // Implement filter functionality here based on the query
    });

    // Sidebar Toggle for Mobile
    document.getElementById("menuToggle").addEventListener("click", function() {
      const sidebar = document.querySelector(".sidebar");
      sidebar.classList.toggle("open");
    });

    // Get user role from localStorage
let userRole = localStorage.getItem('userRole');

// Show content based on user role
if (userRole === "admin") {
    document.getElementById('admin-dashboard').style.display = 'block';
} else if (userRole === "user") {
    document.getElementById('user-dashboard').style.display = 'block';
} else {
    window.location.href = "/ulogin.html"; // Redirect to login if no role is set
}

  </script>
</body>
</html>
